<body>
  <main>
    <div style="display: none">
      <p id="fragmentShader">
        #ifdef GL_ES
        precision mediump float;
        #endif 
        varying vec3 vertexNormal;
        void main(void){ 
          float intensity = 1.05 - dot(vertexNormal,vec3(0.,0.,1.)); 
          vec3 atmosphere = vec3(.6, .4, 0.) * mod(intensity, 0.1) * 5.; // <= 使用mod限制範圍
          gl_FragColor=vec4(atmosphere,0.) + vec4(0.8,0.6,0.1,1.);
        }
      </p>
      <p id="vertexShader">
        varying vec3 vertexNormal;
        void main(void){ 
        vertexNormal = normal;
        gl_Position=projectionMatrix*modelViewMatrix*vec4(position, 1.0);         
        }
      </p>
    </div>
  </main>
  <script
    async
    src="https://unpkg.com/es-module-shims@1.3.6/dist/es-module-shims.js"
  ></script>

  <script type="importmap">
    {
      "imports": {
        "three": "https://unpkg.com/three@latest/build/three.module.js"
      }
    }
  </script>

  <script type="module" src="index.js"></script>
</body>
